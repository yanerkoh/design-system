{"version":3,"names":["__toCommonJS","mod","__copyProps","__defProp","value","SheetScrollView_exports","__export","SheetScrollView","module","exports","import_jsx_runtime","require","import_compose_refs","import_core","import_scroll_view","import_use_controllable_state","import_react","__toESM","import_SheetContext","SHEET_SCROLL_VIEW_NAME","default","forwardRef","param","ref","__scopeSheet","children","onScroll","scrollEnabled","scrollEnabledProp","props","context","useSheetContext","scrollBridge","setHasScrollView","setScrollEnabled_","useControllableState","prop","defaultProp","scrollRef","useRef","setScrollEnabled","next","_scrollRef_current_setNativeProps","_scrollRef_current","current","setNativeProps","call","state","lastPageY","dragAt","dys","isScrolling","isDraggingScrollArea","useEffect","release","scrollStartY","scrollLock","vy","length","recentDys","slice","dist","reduce","a","b","avgDy","scrollable","isClient","controller","AbortController","node","getScrollableNode","addEventListener","e","isParentDragging","scrollTo","top","y","behavior","signal","passive","disposeBridgeListen","onParentDragging","val","abort","hasScrollableContent","setHasScrollableContent","useState","parentHeight","contentHeight","setIsScrollable","jsxs","ScrollView","onLayout","Math","ceil","nativeEvent","layout","height","composeRefs","flex","scrollEventThrottle","onResponderRelease","className","contentOffset","isWeb","onStartShouldSetResponder","onMoveShouldSetResponder","contentContainerStyle","minHeight","onResponderMove","pageY","dy","isDraggingUp","isPaneAtTop","paneY","paneMinY","shouldScrollLock","isDraggingUpFromTopOnFirstScroll","drag","push"],"sources":["../../src/SheetScrollView.tsx"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}