{"version":3,"names":["__toCommonJS","mod","__copyProps","__defProp","value","PressResponder_exports","__export","PressResponder","module","exports","_class_call_check","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_create_class","protoProps","staticProps","prototype","_define_property","obj","DELAY","ERROR","LONG_PRESS_DETECTED","NOT_RESPONDER","RESPONDER_ACTIVE_LONG_PRESS_START","RESPONDER_ACTIVE_PRESS_START","RESPONDER_INACTIVE_PRESS_START","RESPONDER_GRANT","RESPONDER_RELEASE","RESPONDER_TERMINATED","Transitions","freeze","isActiveSignal","signal","isButtonRole","element","getAttribute","isPressStartSignal","isTerminalSignal","isValidKeyPress","event","role","isSpacebar","DEFAULT_LONG_PRESS_DELAY_MS","DEFAULT_PRESS_DELAY_MS","PressResponder2","config","configure","_config","_cancelLongPressDelayTimeout","_cancelPressDelayTimeout","_cancelPressOutDelayTimeout","_eventHandlers","_createEventHandlers","_this","start","shouldDelay","persist","_longPressDispatched","_selectionTerminated","_touchState","_isPointerTouch","nativeEvent","type","_receiveSignal","delayPressStart","normalizeDelay","_pressDelayTimeout","setTimeout","delayLongPress","_longPressDelayTimeout","_handleLongPress","end","keyupHandler","onPress","document","removeEventListener","elementType","tagName","toLowerCase","isNativeInteractiveElement","onStartShouldSetResponder","disabled","currentTarget","stopPropagation","onKeyDown","addEventListener","isSpacebarKey","_isButtonRole","preventDefault","onResponderGrant","onResponderMove","onPressMove","touch","getTouchFromResponderEvent","_touchActivatePosition","deltaX","pageX","deltaY","pageY","Math","hypot","onResponderRelease","onResponderTerminate","onResponderTerminationRequest","_this$_config","cancelable","onLongPress","onClick","_this$_config2","altKey","onContextMenu","_this$_config3","defaultPrevented","prevState","nextState","console","error","_performTransitionSideEffects","isPrevActive","isNextActive","_activate","_deactivate","_this$_config4","_onLongPress","isPressCanceledByLongPress"],"sources":["../../src/PressResponder.ts"],"sourcesContent":[null],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,IAAAA,YAAA,GAAAC,GAAA,IAAAC,WAAA,CAAAC,SAAA;EAAAC,KAAA;AAAA,IAAAH,GAAA;AAAA,IAAAI,sBAAA;AAAAC,QAAA,CAAAD,sBAAA;EAAAE,cAAA,EAAAA,CAAA,KAAAA;AAAA;AAUAC,MAAM,CAAAC,OAAQ,GAAAT,YACR,CAAAK,sBACA;AAQ4B,SAChCK,iBAAeA,CAAAC,QAAA,EAAAC,WAAA;EAAA,IACb,EAAAD,QAAO,YAAAC,WAAA,GACP,UAAAC,SAAiB;AAAA;AACE,SACnBC,iBAAsBA,CAAAC,MAAA,EAAAC,KAAA;EAAA,KACtB,IAAAC,CAAA,MAAAA,CAAA,GAAAD,KAAqB,CAAAE,MAAA,EAAAD,CAAA;IACvB,IAAAE,UAAA,GAAAH,KAAA,CAAAC,CAAA;IACAE,UAAA,CAAAC,UAAA,GAAAD,UAAgC,CAAAC,UAAA,QAAAD,UAAA,CAAAE,YAAA,kBAAAF,UAAA,KAAAA,UAAA,CAAAG,QAAA,QAAAC,MAAA,CAAAC,cAAA,CAAAT,MAAA,EAAAI,UAAA,CAAAM,GAAA,EAAAN,UAAA;EAAA;AACvB;AACU,SACjBO,cAAmBd,WAAA,EAAAe,UAAA,EAAAC,WAAA;EAAA,OACnBD,UAAA,IAAAb,iBAAsB,CAAAF,WAAA,CAAAiB,SAAA,EAAAF,UAAA,GAAAC,WAAA,IAAAd,iBAAA,CAAAF,WAAA,EAAAgB,WAAA,GAAAhB,WAAA;AAAA;AACD,SACvBkB,iBAAAC,GAAA,EAAAN,GAAA,EAAArB,KAAA;EACA,OAAAqB,GAAA,IAAAM,GAAA,GAAAR,MAAA,CAAAC,cAA8B,CAAAO,GAAA,EAAAN,GAAA;IAC5BrB,KAAA;IACAgB,UAAA;IACAC,YAAA;IACAC,QAAA;EAAsB,EACtB,GAAAS,GAAA,CAAAN,GAAA,IAAArB,KAAA,EAAqB2B,GAAA;AAAA;AACvB,IACAC,KAAA;EAAAC,KAAA;EAAmCC,mBAAA;EAAAC,aAAA;EAAAC,iCAAA;EAAAC,4BAAA;EAAAC,8BAAA;EAAAC,eAAA;EAAAC,iBAAA;EAAAC,oBAAA;EAAAC,WAAA,GAAAnB,MAAA,CAAAoB,MAAA;IAAAR,aAC1B;MACPH,KAAA,EAAAC,KAAA;MACAM,eAAA,EAAAD,8BAAmB;MACnBE,iBAAA,EAAAP,KAAsB;MACtBQ,oBAAA,EAAqBR,KAAA;MACvBC,mBAAA,EAAAD;IACA;IAAOK,8BACE;MACPN,KAAA,EAAAK,4BAAiB;MACjBE,eAAA,EAAAN,KAAmB;MACnBO,iBAAA,EAAAL,aAAsB;MACtBM,oBAAA,EAAqBN,aAAA;MACvBD,mBAAA,EAAAD;IACD;IAgBCI,4BAEM,EADS;MAGfL,KAAO,EAAAC,KAAA;MAGHM,eAAA,EAAAN,KAAA;MA8ECO,iBAAqB,EAAAL,aAAA;MAC1BM,oBAAA,EAAAN,aAAyB;MACzBD,mBAAqB,EAAAE;IACrB;IACAA,iCAAkB;MAClBJ,KAAA,EAAAC,KAAA;MACAM,eAAA,EAAAN,KAAuB;MACvBO,iBAAA,EAAAL,aAAwB;MACxBM,oBAAc,EAAAN,aAAA;MACdD,mBAAU,EAAAE;IACV;IAEAH,KAAA;MACED,KAAK,EAAAG,aAAU;MACjBI,eAAA,EAAAD,8BAAA;MAEAE,iBAAkB,EAAAL,aAAA;MAChBM,oBAAe,EAAAN,aAAA;MACjBD,mBAAA,EAAAC;IAAA;EAAA;EAAAS,cAAA,YAAAA,CAAAC,MAAA;IAAA,OAAAA,MAAA,KAAAR,4BAAA,IAAAQ,MAAA,KAAAT,iCAAA;EAAA;EAKAU,YAAQ,YAAAA,CAAAC,OAAA;IACN,OAAKA,OAAA,CAAAC,YAAA,aAEL,QAAK;EAE4B;EACnCC,kBAAA,YAAAA,CAAAJ,MAAA;IAAA,OAAAA,MAAA,KAAAP,8BAAA,IAAAO,MAAA,KAAAR,4BAAA,IAAAQ,MAAA,KAAAT,iCAAA;EAAA;EAAAc,gBAAA,YAAAA,CAAAL,MAAA;IAAA,OAAAA,MAAA,KAAAJ,oBAAA,IAAAI,MAAA,KAAAL,iBAAA;EAAA;EAKAW,eAAA,GAAmB,SAAAA,CAAAC,KAAA;IACjB,IAAA3B,GAAA,GAAI2B,KAAK,CAAA3B,GAAA;MAAAV,MAAA,GAAAqC,KAAkB,CAAArC,MACzB;MAAAsC,IAAK,GAAAtC,MAAA,CAAAiC,YAAsB;MAAAM,UAAqB,GAG3C7B,GAAA,KAAK,OAAAA,GAAA;IACd,OAAAA,GAAA,gBAAA6B,UAAA,IAAAD,IAAA;EAAA;EAEAE,2BAAuB;EAAAC,sBAAA;EAAAjD,cAAA;IACrB,YAAM;;IACJ,SAAAkD,eAEAA,CAAAC,MAAK;MASLhD,iBAAM,OAAA+C,eAAkB,GAAA3B,gBAAA,wCAAAA,gBAAA,iCAAAA,gBAAA,oCAAAA,gBAAA,+BAAAA,gBAAA,qCAAAA,gBAAA,oCAAAA,gBAAA,oCAAAA,gBAAA,sBAAAK,aAAA,GAAAL,gBAAA,yBAAAA,gBAAA,qCAAA6B,SAAA,CAAAD,MAAA;IAAA;IACT,OACbhC,aAAA,CAAA+B,eAAA;MAEFhC,GAAA;MAEIrB,KAAA,WAAAA,CAAgBsD,MAAS;QAEzB,KAAKE,OAAA,GAAAF,MAAe;MACtB;IAKF,GAAuB;MACR;AACb;AACA;MAEFjC,GAAA,EAAK;MACHrB,KAAA,EAAK,SAAAA,CAAA;QACP,IAAG,CAAAyD,4BAAgC,SAAAC,wBAAA,SAAAC,2BAAA;MACrC;IAGE,GACF;MAGE;AAGA;AACE;MAEAtC,GAAA,oBAAoB;MAUpBrB,KAAI,WAAAA,CAAA,EAAW;QAGjB,YAAA4D,cAAA,kBAAAA,cAAA,QAAAC,oBAAA,UAAAD,cAAA;MACF;IAEA,GAAO;MAEHvC,GAAA,wBAAsB;MAMtBrB,KAAA,WAAAA,CAAA,EAJI;QASN,IAAA8D,KAAA;UAAAC,KAAA,YAAAA,CAAAf,KAAA,EAAAgB,WAAA;YACAhB,KAAA,CAAAiB,OAAY,IAAAH,KAAU,CAAAH,2BAAA,IAAAG,KAAA,CAAAI,oBAAA,OAAAJ,KAAA,CAAAK,oBAAA,OAAAL,KAAA,CAAAM,WAAA,GAAArC,aAAA,EAAA+B,KAAA,CAAAO,eAAA,GAAArB,KAAA,CAAAsB,WAAA,CAAAC,IAAA,mBAAAT,KAAA,CAAAU,cAAA,CAAArC,eAAA,EAAAa,KAAA;YACpB,IAAMyB,eAAW,GAAKC,cAAQ,CAAAZ,KACxB,CAAAN,OAAY,CAAAiB,eACH,KAAMrB,sBAAA;YAErBY,WAAK,KAAY,MAAAS,eAAqB,GAAG,IAAAX,KAAA,CAAAa,kBAAA,GAAAC,UAAA;cACnCd,KAAK,CAAAU,cAAgB,CAAA5C,KAAA,EAAAoB,KAAA;YAOzB,GAAAyB,eAAa,IAAOX,KAAA,CAAAU,cAAmB,CAAA5C,KAAA,EAAAoB,KAAA;YAKvC,IAJsB6B,cAAe,GAAAH,cAAQ,CAAAZ,KAEvB,CAAAN,OAAS,CAAAqB,cAAY,MAAS1B,2BAI5C;YAIVW,KAAA,CAAAgB,sBAAA,GAAAF,UAAA;cACFd,KAAA,CAAAiB,gBAAA,CAAA/B,KAAA;YACA,GAAA6B,cAAmB,GAAAJ,eAAgB,CAAK;UACxC;UAAAO,GAAA,YAAAA,CAAkBhC,KAAA;YACZc,KAAK,CAAAU,cAAQ,CAAApC,iBACf,EAAKY,KAAA;UAGP;UAAAiC,YAAc,YAAAA,CAAAjC,KAAA;YAEd,IAAIkC,OAAK,GAAApB,KAAA,CAAAN,OAAA,CAAA0B,OAA0B;cAAAvE,MAAM,GAAAqC,KAAA,CAAArC,MAAA;YACvC,IAAAmD,KAAM,CAAAM,WAAc,KAAArC,aAAA,IAAuBgB,eAAc,CAAAC,KACnD;cAEFgC,GAAK,CAAAhC,KAAM,GAAAmC,QAAQ,CAAAC,mBAChB,UAAAH,YAAA;cAET,IAAAhC,IAAA,GAAAtC,MAAA,CAAAiC,YAAA;gBAAAyC,WAAA,GAAA1E,MAAA,CAAA2E,OAAA,CAAAC,WAAA;gBAAAC,0BAAA,GAAAvC,IAAA,eAAAoC,WAAA,YAAAA,WAAA,iBAAAA,WAAA,gBAAAA,WAAA,iBAAAA,WAAA;cACFH,OAAA,aAAAM,0BAAA,IAAAN,OAAA,CAAAlC,KAAA;YACA;UACA;QACM,OAAM;UAKZyC,yBAAA,WAAAA,CAAAzC,KAAA;YACA,IAAA0C,QAAA,GAAA5B,KAAA,CAAAN,OAAgC,CAAAkC,QAAU;YACxC,OAAMA,QAAA,IAAgBhD,YAAK,CACrBM,KAAA,CAAA2C,aAAa,KAAA3C,KAAc,CAAA4C,eAC3B,IAAAF,QAAW,QAAc,SACzBA,QAAA;UAGN;UAcFG,SAAA,WAAAA,CAAA7C,KAAA;YAAA,IAAA0C,QAAA,GAAA5B,KAAA,CAAAN,OAAA,CAAAkC,QAAA;cAAArE,GAAA,GAAA2B,KAAA,CAAA3B,GAAA;cAAAV,MAAA,GAAAqC,KAAA,CAAArC,MAAA;YAAA,KAAA+E,QAAA,IAAA3C,eAAA,CAAAC,KAAA;cAAAc,KAAA,CAAAM,WAAA,KAAArC,aAAA,KAAAgC,KAAA,CAAAf,KAAA,OAAAmC,QAAA,CAAAW,gBAAA,UAAAb,YAAA;cAAA,IAAAhC,IAAA,GAAAtC,MAAA,CAAAiC,YAAA;gBAAAmD,aAAA,GAAA1E,GAAA,YAAAA,GAAA;gBAAA2E,aAAA,GAAA/C,IAAA,iBAAAA,IAAA;cAAA8C,aAAA,IAAAC,aAAA,IAAAhD,KAAA,CAAAiD,cAAA,IAAAjD,KAAA,CAAA4C,eAAA;YAAA;UAAA;UAAAM,gBAAA,WAAAA,CAAAlD,KAAA;YASA,OAAUe,KAAA,CAAAf,KAAU;UAClB;UAIKmD,eAYC,WAAAA,CAAanD,KAAM;YAI3Bc,KAAA,CAAAN,OAAA,CAAA4C,WAAA,YAAAtC,KAAA,CAAAN,OAAA,CAAA4C,WAAA,CAAApD,KAAA;YAAA,IAAAqD,KAAA,GAAAC,0BAAA,CAAAtD,KAAA;YAAA,IAAAc,KAAA,CAAAyC,sBAAA;cAGA,IAAAC,MAAgB,GAAA1C,KAAU,CAAAyC,sBAAA,CAAAE,KAAA,GAAAJ,KAAA,CAAAI,KAAA;gBAAAC,MAAA,GAAA5C,KAAA,CAAAyC,sBAAA,CAAAI,KAAA,GAAAN,KAAA,CAAAM,KAAA;cAClBC,IAAA,CAAAC,KAAA,CAAAL,MAAiB,EAAAE,MAAK,MACtB,IAAA5C,KAAA,CAAAL,4BACA;YAED;UAUP;UACFqD,kBAAA,WAAAA,CAAA9D,KAAA;YACF,OAAAgC,GAAA,CAAAhC,KAAA;UAAA;UAAA+D,oBAAA,WAAAA,CAAA/D,KAAA;YAAAA,KAAA,CAAAsB,WAAA,CAAAC,IAAA,2BAAAT,KAAA,CAAAK,oBAAA,QAAAL,KAAA,CAAAU,cAAA,CAAAnC,oBAAA,EAAAW,KAAA;UAAA;UAMAgE,6BAA8B,WAAAA,CAAAhE,KAAA;YACtB,IAAAiE,aAAiB,GAAAnD,KAAA,CAAAN,OAAA;cAAA0D,UAAA,GAAAD,aAAA,CAAAC,UAAA;cAAAxB,QAAA,GAAAuB,aAAA,CAAAvB,QAAA;cAAAyB,WAAA,GAAAF,aAAA,CAAAE,WAAA;YACnB,QAAYzB,QAAA,IAAAyB,WAAA,YAAArD,KAAA,CAAAO,eAAA,IAAArB,KAAA,CAAAsB,WAAA,CAAAC,IAAA,0BAAA2C,UAAA;UAEZ;UAUA;UAEO;UAKb;UAAA;UAAA;UAAA;UAAA;UAMA;UACME,OAAA,WAAAA,CAAiBpE,KAAM;YAKlB,IAAAqE,cAAkB,GAAAvD,KAAA,CAAAN,OAAA;cAAAkC,QAAA,GAAA2B,cAAA,CAAA3B,QAAA;cAAAR,OAAA,GAAAmC,cAAA,CAAAnC,OAAA;YAEzBQ,QAAK,GAAAhD,YAAA,CAAAM,KAAyB,CAAA2C,aAEzB,KAAA3C,KAAA,CAAA4C,eAA6B,MAGhC5C,KAAA,CAAA4C,eAAmB,IAAA9B,KAAS,CAAKI,oBAAW,IAAAJ,KAAA,CAAAK,oBAAqB,GAAAnB,KAAA,CAAAiD,cAAA,KAAAf,OAAA,YAAAlC,KAAA,CAAAsE,MAAA,WAAApC,OAAA,CAAAlC,KAAA;UACnE;UAGI;UAIN;UAEMuE,aAAA,EAAe,SAAAA,CAAAvE,KAAA,EAAe;YAG/B,IAAAwE,cAAgB,GAAA1D,KAAA,CAAAN,OACd;cAAAkC,QAAU,GAAA8B,cACN,CAAA9B,QAAiB;cAAAyB,WAAA,GAC1BK,cAAK,CAAAL,WAGH;YACIzB,QAAA,GAAAhD,YAAsB,CAAAM,KAAA,CAAA2C,aACtB,KAAe3C,KAAA,CAAA4C,eAAe,KAAAuB,WAAA,YAAArD,KAAA,CAAAO,eAAA,KAAArB,KAAA,CAAAyE,gBAAA,KAAAzE,KAAA,CAAAiD,cAAA,IAAAjD,KAAA,CAAA4C,eAAA;UACpB;QAelB;MAEA;IACF,GAEA;MACE;AAIA;AAA8B;AACf;MAEfvE,GAGE,kBAAkB;MAMtBrB,KAAA,WAAAA,CAAAyC,MAAA,EAAAO,KAAA;QAEA,IAAA0E,SAAmB,QAAAtD,WAAA;UAAAuD,SAAA;QACjBrF,WAAM,CAAAoF,SAAiB,KAAK,SACtBC,SAAA,GAAArF,WAAgB,CAAAoF,SAAe,EAAAjF,MAAA,IAC/B,OAAA2B,WAAa,KAAArC,aAAe,IAAAU,MAAA,KAAAL,iBAAA,MAAAuF,SAAA,YAAAA,SAAA,KAAA9F,KAAA,GAAA+F,OAAA,CAAAC,KAAA,mCAAApF,MAAA,cAAAiF,SAAA,mBAAAA,SAAA,KAAAC,SAAA,UAAAG,6BAAA,CAAAJ,SAAA,EAAAC,SAAA,EAAAlF,MAAA,EAAAO,KAAA,QAAAoB,WAAA,GAAAuD,SAAA;MAElC;IACE,GAOF;MAEA;AAEA;AAEI;AAAI;MAKVtG,GAAA;MAEArB,KAAA,WAAAA,CAAiB0H,SAAO,EAAAC,SAAA,EAAAlF,MAAA,EAAAO,KAAA;QAEpB,IAAKc,KAAA;QAKT,IAAAhB,gBAAA,CAAAL,MAAA,MAAAmC,UAAA;UAEAd,KAAA,CAAAO,eAAA,GAA+B;QACzB,CAAK,WAAAkC,sBAA0B,GACjC,WAAA9C,4BAAwC,GACxC,EAAAZ,kBAAK,CAAA6E,SAAyB,KAAAjF,MAAA,KAAAX,mBAAA;UAElC,IAAAqF,WAAA,QAAA3D,OAAA,CAAA2D,WAAA;UAEAA,WAAA,QAA2B,IAAAnE,KAAA,CAAAsB,WAAA,CAAAjD,GAAA,aAAA8F,WAAA,CAAAnE,KAAA,QAAAkB,oBAAA;QACrB;QAIN,IAAA6D,YAAA,GAAAvF,cAAA,CAAAkF,SAAA;UAAAM,YAAA,GAAAxF,cAAA,CAAAmF,SAAA;QAEA,KAAAI,YAAA,IAAAC,YAA8B,QAAAC,SAAA,CAAAjF,KAAA,IAAA+E,YAAA,KAAAC,YAAA,SAAAE,WAAA,CAAAlF,KAAA,GAAAH,kBAAA,CAAA6E,SAAA,KAAAjF,MAAA,KAAAL,iBAAA;UACnB,IAAA+F,cAAA,OAAyB,CAAA3E,OAChC;YAAA4E,YAAa,GAAAD,cAAK,CAAAhB,WAClB;YAAAjC,OAAK,GAAAiD,cAAA,CAAAjD,OAAwB;UAEjC,IAAAA,OAAA;YACF,IAAAmD,0BAAA,GAAAD,YAAA,YAAAV,SAAA,KAAA1F,iCAAA;YAESqG,0BAAoC,IAAAL,YAAgB,IAAAD,YAAA,UAAAE,SAAA,CAAAjF,KAAA,QAAAkF,WAAA,CAAAlF,KAAA;UACvD;QASN;QAEA,IAAS,CAAAU,wBAA2B;MAClC;IAIA,GASF","ignoreList":[]}