{"version":3,"names":["__toCommonJS","mod","__copyProps","__defProp","value","index_exports","__export","LayoutMeasurementController","createMeasure","createMeasureInWindow","createMeasureLayout","enable","getBoundingClientRectAsync","getElementLayoutEvent","measure","measureInWindow","measureLayout","measureNode","setOnLayoutStrategy","useElementLayout","module","exports","import_jsx_runtime","require","import_constants","import_is_equal_shallow","import_react","_instanceof","left","right","Symbol","hasInstance","LayoutHandlers","WeakMap","LayoutDisableKey","Nodes","Set","IntersectionState","DisableLayoutContextValues","DisableLayoutContextKey","createContext","ENABLE","isClient","IntersectionObserver","param","disable","children","id","useId","useIsomorphicLayoutEffect","jsx","Provider","globalIntersectionObserver","strategy","state","NodeRectCache","LastChangeTime","avoidUpdates","queuedUpdates","Map","forEach","cb","clear","startGlobalObservers","entries","entry","node","target","get","isIntersecting","set","threshold","BoundingRects","updateLayoutIfChanged","onLayout","parentNode","parentElement","nodeRect","parentRect","nr","pr","Promise","all","getBoundingClientRect","cachedRect","cachedParentRect","isEqualShallow","event","userSkipVal","process","env","TAMAGUI_LAYOUT_FRAME_SKIP","RUN_EVERY_X_FRAMES","layoutOnAnimationFrame","visibleNodes","didRun","res","io","disconnect","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","iterator","_step2","next","done","boundingClientRect","err","return","didObserve","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","HTMLElement","disableKey","observe","push","setTimeout","nativeEvent","layout","getRelativeDimensions","timeStamp","Date","now","a","b","height","top","width","x","y","pageX","pageY","ref","_ref_current","useContext","ensureWebElement","current","host","_ref_current2","node2","add","delete","unobserve"],"sources":["../../src/index.tsx"],"sourcesContent":[null],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,IAAAA,YAAA,GAAAC,GAAA,IAAAC,WAAA,CAAAC,SAAA;EAAAC,KAAA;AAAA,IAAAH,GAAA;AAAA,IAAAI,aAAA;AAAAC,QAAA,CAAAD,aAAA;EAAAE,2BAAA,EAAAA,CAAA,KAAAA,2BAAA;EAAAC,aAAA,EAAAA,CAAA,KAAAA,aAAA;EAAAC,qBAAA,EAAAA,CAAA,KAAAA,qBAAA;EAAAC,mBAAA,EAAAA,CAAA,KAAAA,mBAAA;EAAAC,MAAA,EAAAA,CAAA,KAAAA,MAAA;EAAAC,0BAAA,EAAAA,CAAA,KAAAA,0BAAA;EAAAC,qBAAA,EAAAA,CAAA,KAAAA,qBAAA;EAAAC,OAAA,EAAAA,CAAA,KAAAA,OAAA;EAAAC,eAAA,EAAAA,CAAA,KAAAA,eAAA;EAAAC,aAAA,EAAAA,CAAA,KAAAA,aAAA;EAAAC,WAAA,EAAAA,CAAA,KAAAA,WAAA;EAAAC,mBAAA,EAAAA,CAAA,KAAAA,mBAAA;EAAAC,gBAAA,EAAAA,CAAA,KAAAA;AAAA;AAAAC,MAAA,CAAAC,OAAA,GAAArB,YAAoD,CAAAK,aAAA;AAIpD,IAAAiB,kBAAM,GAAiBC,OAAA,oBAAmC;EACpDC,gBAAA,GAAmBD,OAAA,qBAAiC;EACpDE,uBAAQ,GAAAF,OAAqB,CAC7B,2BAAoB;EAAAG,YAAI,GAAAH,OAGxB;AAQsC,SAC1CI,YAAAC,IAAA,EAAAC,KAAA;EACA,OAAAA,KAAA,mBAAAC,MAAA,UAAAD,KAAA,CAAAC,MAAA,CAAAC,WAAA,MAAAF,KAAA,CAAAC,MAAA,CAAAC,WAAA,EAAAH,IAAA,IAAAA,IAAA,YAAAC,KAAA;AACF;AAIE,IAAAG,cAAW,kBAAM,IAAAC,OAAA;EAAAC,gBAAA,sBAAAD,OAAA;EAAAE,KAAA,sBAAAC,GAAA;EAAAC,iBAAA,sBAAAJ,OAAA;EAAAK,0BAAA;EAAAC,uBAAA,sBAAAb,YAAA,CAAAc,aAAA;EAAAC,MAAA,GAAAjB,gBAAA,CAAAkB,QAAA,WAAAC,oBAAA;EAAApC,2BAAA,YAAAA,CAAAqC,KAAA;IAEjB;QAAAC,OAAA;QAAAC;MAAA,IAAAF,KAAA;MAAAG,EAAA,OAAArB,YAA0B,CAAAsB,KAAM;IAC9B,WAAAxB,gBAAA,CAAAyB,yBAAiC;MACnCX,0BAGE,CAAAS,EAAA,IAAAF,OAAA;IAIJ,IAGIA,OAAA,EAUGE,EAAA,CACL,kBAAW,IAAAzB,kBAAA,CAAA4B,GAAA,EAAAX,uBAAA,CAAAY,QAAA;MACb/C,KAAA,EAAA2C,EAAA;MAmBAD;IAIA,EAAI;EACJ;EAAAM,0BAAsB;EAAAC,QAA+B;AAE9C,SAASnC,mBAAeA,CAAAoC,KAAA;EACzBD,QAAA,GAAAC,KAAA;AAON;AAEA,IAAAC,aAAS,kBAAuB,IAAAtB,OAAA;EAAAuB,cAAA,sBAAAvB,OAAA;EAAAwB,YAAA;EAAAC,aAAA,sBAAAC,GAAA;AAC9B,SAAKhD,MAAUA,CAAA;EAEkB8C,YAC9B,KAAYA,YAAA,OAAAC,aAAA,KAAAA,aAAA,CAAAE,OAAA,WAAAC,EAAA;IACX,OAAAA,EAAA,CAAQ;EACN,IAAAH,aAAM,CAAAI,KAAO,EAAM;AACnB;AACkD,SAEnDC,qBAAA;EAAA,CAAAtB,MACH,IAAAW,0BAAA,KAAAA,0BAAA,OAAAT,oBAAA,WAAAqB,OAAA;IACAA,OAAA,CAAAJ,OAAA,WAAAK,KAAA;MACE,IAAAC,IAAA,GAAWD,KAAA,CAAAE,MAAA;MACb9B,iBAAA,CAAA+B,GAAA,CAAAF,IAAA,MAAAD,KAAA,CAAAI,cAAA,IAAAhC,iBAAA,CAAAiC,GAAA,CAAAJ,IAAA,EAAAD,KAAA,CAAAI,cAAA;IACF;EACF;IAEIE,SAAQ;EACV;AAEA;AACE,IAAA9B,MAAM;EACN,IAAA+B,aAAW,kBAAyB,IAAAvC,OAAA;EAEpC,eAAMwC,qBAAkBA,CAAAP,IAAA;IACxB,IAAIQ,QAAC,GAAA1C,cAAY,CAAAoC,GAAA,CAAAF,IAAA;IAEjB,IAAI,OAAAQ,QACA;MAEJ,IAAIC,UAAA,GAAaT,IAAA,CAAAU,aAAS;MACxB,IAAAD,UAAa;QACX,IAAAE,QAAA,EAAcC,UAAQ;QACtB,IAAAzB,QAAA,KAAc,OAAI;UACnB,KAAA0B,EAAA,EAAAC,EAAA,UAAAC,OAAA,CAAAC,GAAA,EAEIV,aAAO,CAAAJ,GAAA,CAAAF,IAAA,GACVM,aAAA,CAAAJ,GAAA,CAAAO,UAAA,EAGF;UAEF,KAAAI,EAAA,KAAAC,EAAA,EACE;UAIGH,QAAA,GAAYE,EAAC,EAAAD,UAAA,GAAAE,EAAA;QAChB,OAGIH,QAAA,GAAAX,IAAa,CAAAiB,qBAAsB,CACnC,GAAAL,UAAA,GAAAH,UAAmB,CAAAQ,qBAA4B;QAGnD,IAAC,GAAAN,QACD,IAAC,CAAAC,UAAA;UAAA,IAAAM,UAAA,GAAA7B,aAAA,CAAAa,GAAA,CAAAF,IAAA;YAAAmB,gBAAA,GAAA9B,aAAA,CAAAa,GAAA,CAAAO,UAAA;UAGA,KAAAS,UAAA,KAAAC,gBAAA;UAAe;UAEf;UAED,KAAA5D,uBAAgC,CAAA6D,cAChC,EAAcF,UAAI,EAAAP,QAAY;UAAA;UAE9B,EAAM,GAAApD,uBAAQ,CAAA6D,cAAgC,EAAAD,gBAAU,EAAAP,UAAA;YAEpDvB,aACF,CAAAe,GAAA,CAAAJ,IAAA,EAAcW,QAAI,CAAM,EAAAtB,aAAe,CAAAe,GAAA,CAAKK,UAE5C,EAAAG,UAAc;YAElB,IAAAS,KAAA,GAAA1E,qBAAA,CAAAgE,QAAA,EAAAC,UAAA;YACFrB,YAAA,GAAAC,aAAA,CAAAY,GAAA,CAAAJ,IAAA;cAMM,OAAAQ,QAAc,CAAQa,KAAI;YAGhC,KAAeb,QAAA,CAAAa,KAAA;UACT;QACF;MAGe;IACb;EAAe;EAEX,IAAAC,WAAG,GAAAC,OAAW,CAAAC,GAAA,CAAAC,yBAAA;IAAAC,kBAAA,GAAAJ,WAAA,IAAAA,WAAA;EACd,eAAAK,sBAAoBA,CAAA;IAClB,IAAAxC,QAAA,YAAc;MAEhB,IAAAyC,YAAQ;QAAAC,MAAA,aAAAd,OAAA,WAAAe,GAAA;UAAA,IACVC,EAAA,OAAAtD,oBAAA,WAAAqB,OAAA;cACAiC,EAAA,CAAAC,UAAA;cAAA,IACEC,0BAAW;gBAAAC,kBAAA;gBAAAC,eAAA;cACb;gBACF,SAAAC,UAAA,GAAAtC,OAAA,CAAAlC,MAAA,CAAAyE,QAAA,KAAAC,MAAA,IAAAL,0BAAA,IAAAK,MAAA,GAAAF,UAAA,CAAAG,IAAA,IAAAC,IAAA,GAAAP,0BAAA;kBAEI,IAAAlC,KAAA,GAAauC,MAAA,CAAApG,KAAA;kBAEjBoE,aAAmB,CAAAF,GAAA,CAAAL,KAAO,CAAAE,MAAA,EAAAF,KAAA,CAAA0C,kBAAA;gBACxB;cACA,SAAMC,GAAA;gBACFR,kBAAc,OAAAC,eAA2B,GAAAO,GAAA;cAM/C;gBAEK;kBAML,CAAAT,0BAAsB,IAASG,UAAA,CAAAO,MAAA,YAAAP,UAAA,CAAAO,MAAA;gBAC7B;kBACD,IAAAT,kBAAA,EAEL,MAAAC,eAAA;gBAEA;cACF;cAEAL,GAAA;YACF;cAEazB,SAAA;YAKT;YAAAuC,UAAa;YAAAC,yBAAA;YAAAC,iBAAA;YAAAC,cAAA;UACX,IAAQ;YACR,KAAQ,IAAAC,SAAA,GAAA/E,KAAA,CAAAL,MAAA,CAAAyE,QAAA,KAAAY,KAAA,IAAAJ,yBAAA,IAAAI,KAAA,GAAAD,SAAA,CAAAT,IAAA,IAAAC,IAAA,GAAAK,yBAAA;cACV,IAAA7C,IAAA,GAAAiD,KAAA,CAAA/G,KAAA;cACA,IAAWuB,WAAS,CAAAuC,IAAA,CAAAU,aAAA,EAAAwC,WAAA;gBAIlB,IAAAC,UAAwB,GAACnF,gBAA2C,CAAAkC,GAAA,CAAAF,IAAA;gBAChEmD,UAAc,IAAA/E,0BACL,CAAE+E,UACT,MAAM,EAAE,IAAAhF,iBAAA,CAAA+B,GAAA,CAAAF,IAAA,aAAA4C,UAAA,OAAAb,EAAA,CAAAqB,OAAA,CAAApD,IAAA,GAAA+B,EAAA,CAAAqB,OAAA,CAAApD,IAAA,CAAAU,aAAA,GAAAkB,YAAA,CAAAyB,IAAA,CAAArD,IAAA;cACT;YACX;UAEO,CAAS,QAAA0C,GAAA;YAIRI,iBAAa,OAAAC,cAAA,GAAWL,GAAA;UAI1B,UAAQ;YAML;cACC,CAAAG,yBAAoB,IAAAG,SAAA,CAAAL,MAAA,YAAAK,SAAA,CAAAL,MAAA;YACrB,UAAM;cAEL,IAAIG,iBAGV,EAQM,MAAAC,cAAkB;YACxB;UAEI;UACEH,UAAK,IAAAd,GAAA;QAAsB,EAC3B;MACFD,MAAA,IAAAD,YAAA,CAAAlC,OAAA,WAAAM,IAAA;QAIGO,qBAAM,CAAAP,IAAA;MACX;IAUF;IACFsD,UAAW,CAAA3B,sBAAS,YAAAD,kBAAA;EACtB;EAEAC,sBAAS,EAAoB;AAC3B;AAGA,IAAAhF,qBAAoB,YAAAA,CAAAgE,QAAkB,EAAAC,UAAA;IACxC;MAEO2C,WAAM;QAILC,MAAC,EAAAC,qBAA6B,CAAA9C,QAAO,EAAAC,UAAS;QAElDX,MAAM,EAAKU;MACT,CAAC;MAID+C,SAAA,EAAAC,IAAA,CAAAC,GAAA;IAAA;EACa;EAAAH,qBACb,YAAAA,CAAAI,CAAA,EAAAC,CAAA;IACF;QAAAC,MAAA;QAAArG,IAAA;QAAAsG,GAAA;QAAAC;MAAA,IAAAJ,CAAA;MAAAK,CAAA,GAAAxG,IAAA,GAAAoG,CAAA,CAAApG,IAAA;MAAAyG,CAAA,GAAAH,GAAA,GAAAF,CAAA,CAAAE,GAAA;IACA,OAAG;MAIME,CAAA;MAIXC,CAAA;MACAF,KAAI;MACFF,MAAM;MAA+CK,KACnD,EAAAP,CAAA,CAAAnG,IAAA;MAA+B2G,KAC/B,EAAAR,CAAA,CAAAG;IAAuC;EAEzC;AACE,SAAA/G,gBAAOA,CAAAqH,GAAA,EAAA9D,QAAsB;EAEjC,IAAA+D,YAAA;IAAApB,UAAA,OAAA3F,YAAA,CAAAgH,UAAA,EAAAnG,uBAAA;IAAA2B,IAAA,GAAAyE,gBAAA,EAAAF,YAAA,GAAAD,GAAA,CAAAI,OAAA,cAAAH,YAAA,uBAAAA,YAAA,CAAAI,IAAA;EACA3E,IAAA,IAAOQ,QAAA,KAAA1C,cAAA,CAAAsC,GAAA,CAAAJ,IAAA,EAAAQ,QAAA,GAAAxC,gBAAA,CAAAoC,GAAA,CAAAJ,IAAA,EAAAmD,UAAA,QAAA7F,gBAAA,CAAAyB,yBAAA;IAcI,IAAA6F,aACX;IAGA,IAAMpE,QAAM;MACV,IAAAqE,KAAA,IAAAD,aAAA,GAAAN,GAAA,CAAAI,OAAA,cAAAE,aAAA,uBAAAA,aAAA,CAAAD,IAAA;MACA,IAAKE,KAAA;QACP5G,KAAA,CAAA6G,GAAA,CAAAD,KAAA,GAAAhF,oBAAA,IAAAX,0BAAA,KAAAA,0BAAA,CAAAkE,OAAA,CAAAyB,KAAA,GAAA1G,iBAAA,CAAAiC,GAAA,CAAAyE,KAAA;QACA,IAAIpE,UACF,GAAAoE,KAAW,CAAIpE,UAAU;QAG7B,OAAAA,UAAA,IAAAD,QAAA,CAAA7D,qBAAA,CAAAkI,KAAA,CAAA5D,qBAAA,IAAAR,UAAA,CAAAQ,qBAAA;UAEgBhD,KAAA,CAAA8G,MAAA,CACdF,KAAA,CACsD,EAAA/G,cAAA,CAAAiH,MAAA,CAAAF,KAAA,GAAAxF,aAAA,CAAA0F,MAAA,CAAAF,KAAA,GAAAvF,cAAA,CAAAyF,MAAA,CAAAF,KAAA,GAAA1G,iBAAA,CAAA4G,MAAA,CAAAF,KAAA,GAAA3F,0BAAA,IAAAA,0BAAA,CAAA8F,SAAA,CAAAH,KAAA;QACtD,CAAO;MACT;IAIO;EAIL,IACAP,GAAA,EAMW,EAAA9D,QAAA,CAWX;AACA;AAIF,SAAAiE,iBAAAP,CAAA;EAEO,aAAShB,WAAA,GACd,MAEA,OAAQzF,WAAY,CAAAyG,CAAA,EAAAhB,WAAa,IAAAgB,CAAA,QAAc;AACjD","ignoreList":[]}