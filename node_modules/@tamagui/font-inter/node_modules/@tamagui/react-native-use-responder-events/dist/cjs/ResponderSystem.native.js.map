{"version":3,"names":["__toCommonJS","mod","__copyProps","__defProp","value","ResponderSystem_exports","__export","addNode","attachListeners","getResponderNode","removeNode","terminateResponder","module","exports","import_createResponderEvent","require","import_ResponderTouchHistoryStore","import_types","import_utils","import_utils2","emptyObject","startRegistration","bubbles","moveRegistration","scrollRegistration","shouldSetResponderEvents","touchstart","mousedown","touchmove","mousemove","scroll","emptyResponder","id","idPath","node","responderListenersMap","Map","isEmulatingMouseEvents","trackedTouchCount","currentResponder","responderTouchHistoryStore","ResponderTouchHistoryStore","changeCurrentResponder","responder","getResponderConfig","config","get","eventListener","domEvent","eventType","type","eventTarget","target","isStartEvent","isStartish","isPrimaryPointerDown","isMoveEvent","isMoveish","isEndEvent","isEndish","isScrollEvent","isScroll","isSelectionChangeEvent","isSelectionChange","responderEvent","createResponderEvent","touches","length","recordTouchTrack","nativeEvent","eventPaths","getResponderPaths","wasNegotiated","wantsResponder","currentResponderIdPath","eventIdPath","lowestCommonAncestor","getLowestCommonAncestor","indexOfLowestCommonAncestor","indexOf","index","slice","nodePath","findWantsResponder","attemptTransfer","onResponderStart","onResponderMove","onResponderEnd","onResponderRelease","onResponderTerminate","onResponderTerminationRequest","cancelable","currentTarget","dispatchConfig","registrationName","isTerminateEvent","isCancelish","window","contains","relatedTarget","hasValidSelection","isReleaseEvent","hasTargetTouches","shouldTerminate","shouldSetCallbacks","shouldSetCallbackCaptureName","shouldSetCallbackBubbleName","check","id3","node3","callbackName","shouldSetCallback","prunedIdPath","i","result","isPropagationStopped","i1","id1","node1","result1","id2","node2","currentId","currentNode","onResponderGrant","onResponderReject","allowTransfer","documentEventsCapturePhase","documentEventsBubblePhase","isTamaguiResponderActive","Symbol","canUseDOM","addEventListener","forEach","document","setResponderId","set","has","delete","event"],"sources":["../../src/ResponderSystem.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}