{"version":3,"names":["__toCommonJS","mod","__copyProps","__defProp","value","insertStyleRule_exports","__export","getAllRules","getAllSelectors","insertStyleRules","scanAllSheets","setNonce","shouldInsertStyleRules","stopAccumulatingRules","updateRules","module","exports","import_constants","require","import_helpers","import_createVariable","_instanceof","left","right","Symbol","hasInstance","scannedCache","WeakMap","totalSelectorsInserted","Map","allSelectors","allRules","Object","values","lastScannedSheets","collectThemes","arguments","length","tokens","process","env","NODE_ENV","isClient","themes","sheets","document","styleSheets","prev","current","Set","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","iterator","_step","next","done","sheet2","out","updateSheetStyles","err","return","_iteratorNormalCompletion1","_didIteratorError1","_iteratorError1","_iterator1","_step1","sheet1","has","trackInsertedStyle","id","get","set","bailAfterEnv","TAMAGUI_BAIL_AFTER_SCANNING_X_CSS_RULES","bailAfter","remove","_getTamaguiSelector","_getTamaguiSelector1","rules","cssRules","firstSelector","getTamaguiSelector","lastSelector","cacheKey","lastScanned","len","fails","dedupedThemes","nameToTheme","i","rule","CSSStyleRule","response","identifier","cssRule","isTheme","deduped","addThemesFromCSS","_loop","name","apply","theme","names","filter","x","push","colorVarToVal","rootComputedStyle","cssStyleRule","selectors","selectorText","split","color","key","token","val","rulesWithBraces","cssText","slice","sepI","indexOf","varIndex","key1","TAMAGUI_CSS_VARIABLE_PREFIX","replace","startsWith","varName","tokenVal","getComputedStyle","body","getPropertyValue","createVariable","selector","lastThemeSelectorIndex","lastIndexOf","schemeChar","scheme","themeName","add"],"sources":["../../../src/helpers/insertStyleRule.tsx"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}