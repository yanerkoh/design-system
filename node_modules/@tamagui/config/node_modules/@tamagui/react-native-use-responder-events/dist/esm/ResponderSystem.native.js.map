{"version":3,"names":["createResponderEvent","ResponderTouchHistoryStore","isCancelish","isEndish","isMoveish","isScroll","isSelectionChange","isStartish","canUseDOM","getLowestCommonAncestor","getResponderPaths","hasTargetTouches","hasValidSelection","isPrimaryPointerDown","setResponderId","emptyObject","startRegistration","bubbles","moveRegistration","scrollRegistration","shouldSetResponderEvents","touchstart","mousedown","touchmove","mousemove","scroll","emptyResponder","id","idPath","node","responderListenersMap","Map","isEmulatingMouseEvents","trackedTouchCount","currentResponder","responderTouchHistoryStore","changeCurrentResponder","responder","getResponderConfig","config","get","eventListener","domEvent","eventType","type","eventTarget","target","isStartEvent","isMoveEvent","isEndEvent","isScrollEvent","isSelectionChangeEvent","responderEvent","touches","length","recordTouchTrack","nativeEvent","eventPaths","wasNegotiated","wantsResponder","currentResponderIdPath","eventIdPath","lowestCommonAncestor","indexOfLowestCommonAncestor","indexOf","index","slice","nodePath","findWantsResponder","attemptTransfer","onResponderStart","onResponderMove","onResponderEnd","onResponderRelease","onResponderTerminate","onResponderTerminationRequest","cancelable","currentTarget","dispatchConfig","registrationName","isTerminateEvent","window","contains","relatedTarget","isReleaseEvent","shouldTerminate","shouldSetCallbacks","shouldSetCallbackCaptureName","shouldSetCallbackBubbleName","check","id3","node3","callbackName","shouldSetCallback","prunedIdPath","i","result","isPropagationStopped","i1","id1","node1","result1","id2","node2","currentId","currentNode","onResponderGrant","onResponderReject","allowTransfer","documentEventsCapturePhase","documentEventsBubblePhase","isTamaguiResponderActive","Symbol","attachListeners","addEventListener","forEach","document","addNode","set","removeNode","terminateResponder","has","delete","event","getResponderNode"],"sources":["../../src/ResponderSystem.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}