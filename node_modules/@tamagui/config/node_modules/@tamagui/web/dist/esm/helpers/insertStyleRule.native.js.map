{"version":3,"names":["isClient","StyleObjectIdentifier","StyleObjectRules","createVariable","_instanceof","left","right","Symbol","hasInstance","scannedCache","WeakMap","totalSelectorsInserted","Map","allSelectors","allRules","getAllSelectors","getAllRules","Object","values","lastScannedSheets","scanAllSheets","collectThemes","arguments","length","tokens","process","env","NODE_ENV","themes","sheets","document","styleSheets","prev","current","Set","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","iterator","_step","next","done","sheet2","value","out","updateSheetStyles","err","return","_iteratorNormalCompletion1","_didIteratorError1","_iteratorError1","_iterator1","_step1","sheet1","has","trackInsertedStyle","id","get","set","bailAfterEnv","TAMAGUI_BAIL_AFTER_SCANNING_X_CSS_RULES","bailAfter","remove","_getTamaguiSelector","_getTamaguiSelector1","rules","cssRules","firstSelector","getTamaguiSelector","lastSelector","cacheKey","lastScanned","len","fails","dedupedThemes","nameToTheme","i","rule","CSSStyleRule","response","identifier","cssRule","isTheme","deduped","addThemesFromCSS","_loop","name","apply","theme","names","filter","x","push","colorVarToVal","rootComputedStyle","cssStyleRule","selectors","selectorText","split","color","key","token","val","rulesWithBraces","cssText","slice","sepI","indexOf","varIndex","key1","TAMAGUI_CSS_VARIABLE_PREFIX","replace","startsWith","varName","tokenVal","getComputedStyle","body","getPropertyValue","selector","lastThemeSelectorIndex","lastIndexOf","schemeChar","scheme","themeName","add"],"sources":["../../../src/helpers/insertStyleRule.tsx"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}